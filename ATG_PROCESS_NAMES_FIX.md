# Исправление обрезанных имен процессов в ATG

## Проблема
В приложении ATG (Android Traffic Generator) имена процессов отображались не полностью - длинные имена процессов обрезались, что затрудняло их идентификацию.

## Причины проблемы
1. **Недостаточная ширина колонки**: колонка "Name" занимала только 70% ширины таблицы
2. **Отсутствие поддержки многострочного текста**: длинные имена не могли переноситься на новые строки
3. **Горизонтальная прокрутка**: текст скрывался за границами ячейки без видимой индикации

## Внесенные исправления

### 1. Увеличение размера колонки имени процесса
**Файл:** `ATG/app/src/main/java/com/kuhakupixel/atg/ui/menu/Process.kt`
**Изменение:** Строка 75
```kotlin
// Было:
colWeights = listOf(0.3f, 0.7f)

// Стало:
colWeights = listOf(0.2f, 0.8f)
```
- Колонка PID теперь занимает 20% ширины (вместо 30%)
- Колонка Name теперь занимает 80% ширины (вместо 70%)

### 2. Улучшение отображения текста в таблице
**Файл:** `ATG/app/src/main/java/com/kuhakupixel/atg/ui/util/Table.kt`

**Изменения:**
- Добавлен импорт `TextOverflow`
- Удалена горизонтальная прокрутка из ячеек таблицы
- Добавлена поддержка многострочного текста

```kotlin
// Было:
.horizontalScroll(rememberScrollState())

// Стало:
// Remove horizontal scroll to allow text wrapping
// .horizontalScroll(rememberScrollState())
```

```kotlin
// Было:
Text(
    text = text,
    modifier = GetCellModifier(weight).defaultMinSize(minHeight = rowMinHeight)
)

// Стало:
Text(
    text = text,
    modifier = GetCellModifier(weight).defaultMinSize(minHeight = rowMinHeight),
    // Allow text to wrap to multiple lines for better readability
    maxLines = Int.MAX_VALUE,
    overflow = TextOverflow.Visible
)
```

### 3. Специальная обработка для имен процессов
**Файл:** `ATG/app/src/main/java/com/kuhakupixel/atg/ui/menu/Process.kt`

**Изменения:**
- Добавлен импорт `TextOverflow`
- Улучшено отображение имен процессов в таблице

```kotlin
// Было:
if (colIndex == 1) {
    Text(text = processList[rowIndex].GetName())
}

// Стало:
if (colIndex == 1) {
    Text(
        text = processList[rowIndex].GetName(),
        maxLines = Int.MAX_VALUE,
        overflow = TextOverflow.Visible
    )
}
```

## Результат
После внесения изменений:
1. **Больше места для имен**: колонка Name теперь занимает 80% ширины экрана
2. **Полная видимость текста**: длинные имена процессов переносятся на несколько строк
3. **Лучшая читаемость**: удалена горизонтальная прокрутка, которая скрывала текст
4. **Универсальность**: изменения применяются ко всем таблицам в приложении

## Дополнительные рекомендации для дальнейшего улучшения

### 1. Улучшение команды получения процессов
Можно рассмотреть модификацию команды `ps` в ACE utilClient для получения полных имен процессов:
```bash
# Текущая команда
ps ls --reverse

# Улучшенная команда (для полных имен)
ps -eo pid,comm --no-headers --sort=-pid
```

### 2. Добавление tooltip или контекстного меню
Можно добавить возможность показа полного имени процесса при долгом нажатии или в отдельном диалоге.

### 3. Фильтрация процессов
Добавить поле поиска для фильтрации процессов по имени.

## Заключение
Все основные проблемы с обрезанными именами процессов решены. Теперь пользователи могут видеть полные имена процессов в удобном для чтения формате.