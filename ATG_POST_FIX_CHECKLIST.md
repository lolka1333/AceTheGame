# Чек-лист проверки после применения исправлений ATG

## Первоначальная проверка

### 1. Компиляция
- [ ] Проект компилируется без ошибок
- [ ] Нет warnings связанных с типами данных
- [ ] Все import'ы корректны

### 2. Запуск приложения
- [ ] Приложение запускается без crashes
- [ ] Главный экран отображается корректно
- [ ] Меню навигации работает

## Проверка функциональности процессов

### 3. Получение списка процессов
- [ ] Список процессов загружается (режим Original)
- [ ] Список процессов загружается (режим Full Name)
- [ ] Список процессов загружается (режим Full Command)
- [ ] Переключение между режимами работает
- [ ] Кнопка обновления списка работает

### 4. Attach к процессам
- [ ] Выбор процесса показывает диалог подтверждения
- [ ] Attach к простому процессу работает
- [ ] Attach к процессу с длинным именем работает
- [ ] Обработка ошибок при attach работает корректно
- [ ] Сообщения об ошибках информативны

### 5. Обработка ошибок
- [ ] При недоступности root прав показывается корректная ошибка
- [ ] При недоступности процесса показывается корректное сообщение
- [ ] При ошибке сервера ACE показывается понятная ошибка
- [ ] Приложение не вылетает при ошибках

## Проверка логирования

### 6. Логи Android
Проверить логи с помощью команды: `adb logcat | grep ATG`

- [ ] Логи содержат информацию о запуске операций
- [ ] Логи содержат информацию об ошибках
- [ ] Логи содержат информацию о fallback операциях
- [ ] Логи не содержат sensitive информацию

### 7. Типичные лог-сообщения
Должны присутствовать:
- [ ] "Successfully loaded X processes"
- [ ] "ACE server started successfully"
- [ ] "Successfully allocated X ports"
- [ ] "Executing sudo command"

## Стресс-тестирование

### 8. Множественные операции
- [ ] Многократное обновление списка процессов
- [ ] Многократное переключение режимов отображения
- [ ] Последовательный attach/detach к разным процессам
- [ ] Attach к процессам с очень длинными именами

### 9. Краевые случаи
- [ ] Поведение при отсутствии root прав
- [ ] Поведение при отсутствии процессов
- [ ] Поведение при недоступности портов
- [ ] Поведение при отключении от сети (если применимо)

## Производительность

### 10. Скорость работы
- [ ] Загрузка списка процессов не занимает > 5 секунд
- [ ] Attach к процессу не занимает > 10 секунд
- [ ] Приложение остается отзывчивым при операциях

### 11. Потребление ресурсов
- [ ] Нет значительного потребления CPU в idle
- [ ] Нет memory leaks при многократных операциях
- [ ] Нет zombie процессов после detach

## Специальные тесты

### 12. Тест на вылеты (основная проблема)
- [ ] Выбор 10 разных процессов подряд без вылетов
- [ ] Переключение между режимами и выбор процессов
- [ ] Attach/detach к процессам с обрыванием операций
- [ ] Быстрые множественные нажатия на процессы

### 13. Тест recovery механизмов
- [ ] Fallback на Original режим при сбое Full Name
- [ ] Fallback на Original режим при сбое Full Command
- [ ] Восстановление после сбоя ACE сервера
- [ ] Правильная очистка ресурсов после сбоев

## Финальная проверка

### 14. Общая стабильность
- [ ] 30-минутное использование без вылетов
- [ ] Выполнение всех основных операций без проблем
- [ ] Корректная работа после поворота экрана
- [ ] Корректная работа после сворачивания/разворачивания

### 15. Регрессионные тесты
- [ ] Все существующие функции работают как прежде
- [ ] Нет новых предупреждений в логах
- [ ] Производительность не ухудшилась
- [ ] Интерфейс не изменился (кроме улучшений)

## Команды для тестирования

### Проверка логов:
```bash
adb logcat | grep ATG
```

### Мониторинг производительности:
```bash
adb shell top | grep atg
```

### Проверка процессов:
```bash
adb shell ps | grep atg
```

## Критерии успеха

Исправления считаются успешными, если:
1. ✅ Все пункты чек-листа выполнены
2. ✅ Количество вылетов уменьшилось до 0 при нормальном использовании
3. ✅ Логи показывают правильную работу fallback механизмов
4. ✅ Пользовательский опыт улучшился (более информативные ошибки)

## В случае проблем

Если какие-то пункты не выполняются:
1. Проверьте логи Android для диагностики
2. Убедитесь, что все зависимости установлены
3. Проверьте права доступа приложения
4. Обратитесь к документации ATG_CRASH_FIXES.md для деталей исправлений